# TIP3


# Практическое занятие №3  
## Реализация простого HTTP-сервера на Go (net/http)

---

## Общая информация

**Дисциплина:** Технологии индустриального программирования  
**Вид работы:** Практическое занятие  
**Тема:** Реализация простого HTTP-сервера. Обработка запросов GET/POST  
**Язык программирования:** Go  
**Среда разработки:** GoLand / VS Code  
**Семестр:** 1  

---

## Цель работы

Целью практического занятия является изучение стандартной библиотеки `net/http` языка Go и получение практических навыков разработки простого HTTP-сервера без использования сторонних фреймворков.

В ходе работы необходимо:
- запустить HTTP-сервер;
- реализовать обработку GET и POST запросов;
- научиться читать параметры запроса и JSON-тело;
- формировать корректные HTTP-ответы;
- реализовать middleware для логирования запросов.

---

## Задачи практической работы

1. Создать HTTP-сервер с использованием `net/http`.
2. Реализовать маршруты:
   - `GET /health`
   - `GET /tasks`
   - `POST /tasks`
   - `GET /tasks/{id}`
3. Реализовать in-memory хранилище данных.
4. Добавить единый helper для формирования JSON-ответов и ошибок.
5. Реализовать middleware для логирования HTTP-запросов.
6. Протестировать работу API с помощью `curl`.

---

## Структура проекта

Проект имеет следующую структуру:

pz3-http/
├── cmd/
│ └── server/
│ └── main.go
├── internal/
│ ├── api/
│ │ ├── handlers.go
│ │ ├── middleware.go
│ │ └── responses.go
│ └── storage/
│ └── memory.go
├── requests.md
├── go.mod
└── README.md



---

## Описание реализации

### Модель данных

В проекте реализована сущность `Task`, содержащая следующие поля:
- `id` — уникальный идентификатор задачи;
- `title` — название задачи;
- `done` — статус выполнения.

Данные хранятся в оперативной памяти приложения (in-memory storage) с использованием `map` и `sync.RWMutex`.

---

### Реализованные HTTP-маршруты

#### GET /health

Маршрут предназначен для проверки работоспособности сервера.

**Ответ сервера:**

{
  "status": "ok"
}
СКРИН

GET /tasks
Возвращает список всех задач.

Также реализована поддержка фильтрации по названию задачи с использованием query-параметра q.

Пример:

/tasks?q=молоко
СКРИН

POST /tasks
Создаёт новую задачу.

Тело запроса (JSON):


{
  "title": "Купить молоко"
}
В случае успешного создания возвращается статус 201 Created.

СКРИН

GET /tasks/{id}
Возвращает одну задачу по её идентификатору.

При некорректном идентификаторе или отсутствии задачи сервер возвращает соответствующую ошибку.

СКРИН

Обработка ошибок
В проекте реализован единый helper для формирования JSON-ответов и ошибок.

Используются следующие коды HTTP-ответов:

200 OK — успешный запрос;

201 Created — ресурс успешно создан;

400 Bad Request — некорректные данные запроса;

404 Not Found — ресурс не найден;

500 Internal Server Error — внутренняя ошибка сервера.

Middleware
Для всех маршрутов подключено middleware логирования.

Middleware выводит в консоль следующую информацию:

HTTP-метод запроса;

путь запроса;

код ответа;

время обработки запроса.

Пример вывода в консоль:

GET /tasks 200 420µs
СКРИН

Запуск приложения
Установка и запуск
Клонировать или открыть проект.

Перейти в корень проекта.

Запустить сервер командой:

go run ./cmd/server
После запуска сервер будет доступен по адресу:

http://localhost:8080
СКРИН

Тестирование API
Для тестирования API использовалась утилита curl.

Примеры HTTP-запросов приведены в файле requests.md.

Основные проверяемые сценарии:

проверка доступности сервера;

создание задач;

получение списка задач;

фильтрация задач;

получение задачи по идентификатору;

обработка ошибочных запросов.

СКРИН

Используемые технологии
Go 1.21+

net/http

стандартная библиотека Go

curl

Вывод
В ходе выполнения практического занятия был реализован простой HTTP-сервер с использованием стандартной библиотеки net/http.

Были изучены основные принципы работы с HTTP в Go, обработка запросов и формирование ответов в формате JSON, а также использование middleware для логирования.

Полученные навыки являются базой для дальнейшего изучения backend-разработки и создания более сложных веб-приложений.
